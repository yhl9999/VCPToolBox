{
  "manifestVersion": "1.0.0",
  "name": "IMAPSearch",
  "version": "1.1.0",
  "displayName": "IMAP 邮件本地搜索",
  "description": "一个同步 VCP 插件，用于在 IMAPIndex 插件生成的本地邮件存储中执行全文搜索。它支持分页和可配置的索引目录。",
  "author": "B3000Kcn",
  "pluginType": "synchronous",
  "entryPoint": {
    "type": "nodejs",
    "command": "node index.js"
  },
  "communication": {
    "protocol": "stdio",
    "timeout": 15000
  },
  "configSchema": {
    "MAIL_INDEX_DIR": {
      "type": "string",
      "description": "指定邮件存储的绝对或相对路径。默认为'../IMAPIndex/mail_store'。",
      "default": ""
    },
    "SEARCH_RESULT_LIMIT": {
      "type": "number",
      "description": "执行搜索时默认返回的最大结果条数。",
      "default": 5
    }
  },
  "capabilities": {
    "invocationCommands": [
      {
        "commandIdentifier": "IMAPSearch",
        "description": "在本地存储的所有邮件中执行大小写不敏感的全文搜索。\n参数:\n- query (字符串, 必需, 兼容 q 或 text): 需要搜索的关键词或短语。\n- limit (数字, 可选, 兼容 size, 默认 5): 返回的最大结果数量。\n- nextCursor (数字, 可选, 默认 0): 用于分页的偏移量，从上一次请求的响应中获取。",
        "example": "<<<[TOOL_REQUEST]>>>\nmaid:「始」Agent「末」,\ntool_name:「始」IMAPSearch「末」,\nquery:「始」关于第三季度的财务报告「末」,\nlimit:「始」3「末」,\nnextCursor:「始」0「末」\n<<<[END_TOOL_REQUEST]>>>"
      }
    ]
  }
}
